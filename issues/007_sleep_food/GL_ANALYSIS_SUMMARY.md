# GL（グリセミック負荷）分析結果サマリー

**分析日**: 2026-02-02

---

## 📊 実装完了

### 実装内容

✅ **`src/lib/analytics/nutrition.py`にGL計算機能を追加**:
- `calc_predicted_gl()` - 研究ベースのGL予測式（Pongutta et al., 2021）
- `categorize_gl()` - GLのカテゴリ分類
- `add_glycemic_scores()` - データフレームへのGL追加
- `analyze_glycemic_impact()` - GL詳細分析

✅ **既存の分析スクリプトに統合**:
- `scripts/analyze_sleep_nutrition.py`にGL機能を追加
- 相関分析にGLを含める
- GL別の睡眠統計テーブルを生成
- レポートにGL説明を追加

---

## 🎯 分析結果

### GL統計（26日分）

| 指標 | 値 |
|------|-----|
| 平均GL | 14.1 |
| 中央値GL | 0.0 |
| 最小GL | 0.0 |
| 最大GL | 100.5 |
| 標準偏差 | 26.0 |

### GL分布

| カテゴリ | データ数 | 割合 |
|----------|----------|------|
| 低 (< 10) | 18日 | 69% |
| 中 (10-20) | 2日 | 8% |
| 高 (> 20) | 6日 | 23% |

---

## 🔍 重要な発見

### 1. GLと深い睡眠に正の相関 ⭐

**相関係数**: r = 0.477（中程度の正の相関）

| GL区分 | データ数 | 深い睡眠(分) |
|--------|----------|--------------|
| 低 | 18 | 54 |
| 中 | 2 | 59 |
| 高 | 6 | **73** |

**解釈**:
- **高GL → 深い睡眠が増加**（54分 → 73分、+35%）
- これは「炭水化物が深い睡眠を促進する」という前回の発見と整合的
- 適度なGL（適度な炭水化物摂取）が深い睡眠に良い影響

### 2. GLと睡眠効率にも正の相関

**相関係数**: r = 0.333（中程度の正の相関）

| GL区分 | データ数 | 睡眠効率(%) |
|--------|----------|-------------|
| 低 | 18 | 82.9 |
| 中 | 2 | 84.0 |
| 高 | 6 | **88.7** |

**解釈**:
- 高GL → 睡眠効率も向上
- 炭水化物が睡眠の質全体を改善している可能性

### 3. GLスコアの分布が極端

**観察**:
- 18日（69%）でGL = 0
- これはタンパク質・脂質が多く、炭水化物が少ない日

**理由**:
```
GL = 19.27 + (0.39 × 正味炭水化物) - (0.21 × 脂質)
     - (0.01 × タンパク質²) - (0.01 × 食物繊維²)
```
- タンパク質・脂質が多いと、GLが負になり0にクリップされる
- これは低炭水化物食（ケトジェニックダイエットなど）を反映

---

## 💡 重要な示唆

### 予想外の発見：「低GLが必ずしも良くない」

**従来の考え**:
- 低GL → 血糖値安定 → 良好な睡眠

**今回の発見**:
- 低GL → 深い睡眠が減少（54分）
- 高GL → 深い睡眠が増加（73分）

**解釈**:
1. **炭水化物の二面性**:
   - プラス: セロトニン・メラトニン経路 → 深い睡眠促進
   - マイナス: 血糖変動 → 夜間覚醒のリスク

2. **適度なGLが重要**:
   - 極端な低炭水化物（GL=0）→ 深い睡眠が少ない
   - 適度な炭水化物（GL 10-30）→ 深い睡眠が多い
   - 過剰な炭水化物（GL > 50）→ データ不足（要追加調査）

3. **個人の食事パターン**:
   - 現在のデータは高タンパク質・高脂質食が多い
   - 適度な炭水化物を含む日は少ない
   - より多様な食事パターンのデータが必要

---

## 🔬 科学的解釈

### なぜ高GLで深い睡眠が増えるのか

**メカニズム**:

1. **セロトニン・メラトニン経路**:
   - 炭水化物 → インスリン分泌
   - インスリン → トリプトファンの脳への取り込み増加
   - トリプトファン → セロトニン → メラトニン
   - メラトニン → 深い睡眠

2. **グリコーゲン効果**:
   - 脳のグリコーゲン貯蔵が深い睡眠に必要
   - 低炭水化物 → グリコーゲン不足 → 深い睡眠減少

3. **体温調節**:
   - 炭水化物代謝 → 体温上昇 → 睡眠開始の準備
   - 夕食での適度な炭水化物が入眠を促進

### 既存研究との整合性

**整合的な点**:
- ✅ 炭水化物と深い睡眠の正の相関（今回発見）
- ✅ タンパク質・食物繊維が血糖反応を緩和

**新しい知見**:
- ⚠️ 低GLが必ずしも睡眠に良くない
- ⚠️ 適度なGL（適度な炭水化物）が最適の可能性

---

## 📈 次のステップ

### 1. データ収集の改善

**目標**: より多様な食事パターンのデータを集める

- 現状: 低GL日が69%（偏りあり）
- 目標: 低・中・高GLがバランスよく

**推奨**:
- 意図的に異なるGLの日を設定
- 低GL日（高タンパク質・低炭水化物）
- 中GL日（バランス食）
- 高GL日（高炭水化物）

### 2. 最適GLの範囲を特定

**仮説**:
- GL 10-30が最適範囲？
- 極端な低GL（0）も高GL（> 50）も好ましくない可能性

**検証方法**:
- より多くの中GL日のデータを収集
- GL と深い睡眠の関係を詳細に分析（散布図、回帰分析）

### 3. 食事タイミングの影響

**追加分析**:
- 朝食・昼食・夕食のGL別
- 夕食のGLが最も重要と予想
- food_logs.csvのmealTypeIdを活用

### 4. 長期的な影響

**時系列分析**:
- 連続した高GL日 vs 連続した低GL日
- 睡眠負債との相互作用
- 適応効果（体が慣れるか）

---

## 🎯 実践的な推奨事項

### 現時点での推奨

**基本方針**:
- ❌ 極端な低炭水化物（GL=0）を避ける
- ✅ 適度な炭水化物を含める（GL 10-30を目標）
- ✅ タンパク質・食物繊維も十分に

**具体的な食事例**:

#### 低GL日（GL < 10） - 現在多い
```
朝: プロテイン、卵、アボカド
昼: サラダチキン、野菜
夕: 魚、ブロッコリー

→ 深い睡眠: 54分
```

#### 中GL日（GL 10-20） - 推奨
```
朝: オートミール、プロテイン、ベリー
昼: 鶏肉、玄米（少量）、野菜
夕: 魚、さつまいも（少量）、野菜

→ 深い睡眠: 59分（推定）
```

#### 高GL日（GL 20-30） - 適度な炭水化物
```
朝: オートミール、バナナ、プロテイン
昼: 鶏肉、玄米、野菜
夕: 魚、ご飯（茶碗1杯）、野菜

→ 深い睡眠: 73分
```

**注意**:
- 個人差が大きい可能性
- 運動量・体重・代謝によって最適GLは異なる
- 継続的なモニタリングが重要

---

## 📚 技術的な詳細

### GL予測式の特性

**式**:
```
GL = 19.27 + (0.39 × AC) - (0.21 × Fat) - (0.01 × Protein²) - (0.01 × Fiber²)
where AC = Carbs - Fiber
```

**特徴**:
1. **タンパク質の二次項効果**:
   - 30g: -9ポイント減
   - 60g: -36ポイント減
   - 90g: -81ポイント減
   - 高タンパク質ほど効果が大きい

2. **食物繊維の二次項効果**:
   - 10g: -1ポイント減
   - 20g: -4ポイント減
   - 30g: -9ポイント減

3. **脂質の線形効果**:
   - 30g: -6.3ポイント減
   - 60g: -12.6ポイント減

**結果**:
- 高タンパク質・高脂質・高食物繊維 → GLが大幅に減少
- 多くの日でGL = 0になる理由

---

## 💬 結論

### 主要な発見

1. ✅ **GL予測式の実装成功**
   - 研究ベースの式（R² = 0.82）を実装
   - `src/lib/analytics/nutrition.py`で利用可能

2. ⭐ **予想外の発見**
   - 高GL → 深い睡眠が増加（r = 0.477）
   - 低GLが必ずしも睡眠に良くない

3. 💡 **実践的示唆**
   - 適度な炭水化物が深い睡眠に重要
   - 極端な低炭水化物は深い睡眠を減少させる可能性

### 今後の課題

1. **データ収集**: より多様な食事パターン（特に中GL日）
2. **最適範囲の特定**: GL 10-30が最適か検証
3. **長期的影響**: 時系列分析と適応効果
4. **個人差の考慮**: 体重・運動量・代謝との関係

### 次のアクション

1. ✅ GL機能は実装完了 → 継続的に使用可能
2. 📊 意図的に異なるGLの日を設定してデータ収集
3. 🔬 より詳細な分析（散布図、回帰分析、閾値探索）
4. 📈 長期トレンドのモニタリング

---

*Generated: 2026-02-02*
*Implementation: `src/lib/analytics/nutrition.py`*
*Analysis Script: `scripts/analyze_sleep_nutrition.py`*
