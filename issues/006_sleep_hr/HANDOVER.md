# ç¡çœ ä¸­å¿ƒæ‹æ•°åˆ†æãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ å¼•ãç¶™ãè³‡æ–™

**ä½œæˆæ—¥**: 2026-01-23
**å ´æ‰€**: `/home/tsu-nera/repo/dailybuild/issues/006_sleep_hr/`

---

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

ç¡çœ ä¸­ã®å¿ƒæ‹æ•°ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰é«˜åº¦ãªå¥åº·æŒ‡æ¨™ã‚’æŠ½å‡ºã—ã€ç¡çœ ã®è³ªã¨å¿ƒè¡€ç®¡å¥åº·ã‚’è©•ä¾¡ã™ã‚‹ã€‚

### ä¸»ãªç›®çš„
1. Fitbitã‚¢ãƒ—ãƒªã«ãªã„ç‹¬è‡ªæŒ‡æ¨™ã®å®Ÿè£…
2. é£Ÿäº‹æ™‚åˆ»ã¨ç¡çœ ã®é–¢ä¿‚åˆ†æï¼ˆå¤œé…ã„é£Ÿäº‹ã®å½±éŸ¿è©•ä¾¡ï¼‰

---

## âœ… å®Œäº†ã—ãŸå®Ÿè£…

### 1. é«˜åº¦ãªå¿ƒæ‹æ•°æŒ‡æ¨™ã®å®Ÿè£…

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/lib/analytics/sleep/sleep_intraday_analysis.py` - `calc_advanced_hr_metrics()`é–¢æ•°è¿½åŠ 
- `scripts/generate_sleep_report_daily.py` - é«˜åº¦ãªæŒ‡æ¨™ã®è¨ˆç®—ã¨ãƒ¬ãƒãƒ¼ãƒˆçµ±åˆ
- `templates/sleep/sections/sleep_heart_rate.md.j2` - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ›´æ–°

**å®Ÿè£…ã—ãŸæŒ‡æ¨™**:

| æŒ‡æ¨™ | è¨ˆç®—æ–¹æ³• | ç ”ç©¶çš„æ ¹æ‹  |
|------|---------|-----------|
| **å¤œé–“å¿ƒæ‹æ•°ãƒ‡ã‚£ãƒƒãƒ—ç‡** | `(æ—¥ä¸­å¹³å‡HR - ç¡çœ ä¸­å¹³å‡HR) / æ—¥ä¸­å¹³å‡HR Ã— 100` | 10%æœªæº€ã§å¿ƒè¡€ç®¡ãƒªã‚¹ã‚¯2.4å€ |
| **æœ€ä½HRåˆ°é”æ™‚é–“** | å…¥çœ ã‹ã‚‰æœ€ä½å¿ƒæ‹æ•°ã¾ã§ã®æ™‚é–“ï¼ˆåˆ†ï¼‰ | å‰¯äº¤æ„Ÿç¥çµŒæ´»æ€§åŒ–é€Ÿåº¦ã®æŒ‡æ¨™ |
| **å¤œ/æ˜¼å¿ƒæ‹æ•°æ¯”ç‡** | `ç¡çœ ä¸­å¹³å‡HR / æ—¥ä¸­å¹³å‡HR` | >0.90ã§éãƒ‡ã‚£ãƒƒãƒ‘ãƒ¼ |
| **æœ€ä½HRç™ºç”Ÿæ™‚åˆ»** | æœ€ä½å¿ƒæ‹æ•°ã®ç™ºç”Ÿæ™‚åˆ» | æ¦‚æ—¥ãƒªã‚ºãƒ ã®è©•ä¾¡ï¼ˆç†æƒ³ã¯02:00é ƒï¼‰ |

**å¥åº·åŸºæº–**:
- ãƒ‡ã‚£ãƒƒãƒ—ç‡: 10-20%ä»¥ä¸ŠãŒå¥åº·ã€<10%ã§éãƒ‡ã‚£ãƒƒãƒ‘ãƒ¼
- æœ€ä½HRåˆ°é”æ™‚é–“: 60-180åˆ†ãŒå¥åº·ç¯„å›²ã€>180åˆ†ã§è¦æ³¨æ„
- å¤œ/æ˜¼æ¯”ç‡: <0.90ãŒè‰¯å¥½

**ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `issues/006_sleep_hr/ADVANCED_METRICS_REPORT.md` - è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ
- `issues/006_sleep_hr/advanced_hr_metrics.png` - 6ã¤ã®ã‚°ãƒ©ãƒ•
- `issues/006_sleep_hr/advanced_hr_metrics.csv` - ç”Ÿãƒ‡ãƒ¼ã‚¿

### 2. åˆ†æçµæœï¼ˆéå»30æ—¥é–“ï¼‰

**ã‚µãƒãƒªãƒ¼**:
- å¹³å‡ãƒ‡ã‚£ãƒƒãƒ—ç‡: 24.7%ï¼ˆâœ… è‰¯å¥½ï¼‰
- å¹³å‡æœ€ä½HRåˆ°é”æ™‚é–“: 195åˆ†ï¼ˆâš ï¸ ã‚„ã‚„é•·ã„ï¼‰
- éãƒ‡ã‚£ãƒƒãƒ‘ãƒ¼æ—¥æ•°: 2/31æ—¥

**å¥åº·è©•ä¾¡**:
- âœ… å¿ƒè¡€ç®¡ç³»ã®å¥åº·çŠ¶æ…‹ã¯è‰¯å¥½
- âš ï¸ å‰¯äº¤æ„Ÿç¥çµŒã®æ´»æ€§åŒ–ãŒã‚„ã‚„é…ã„
- âš ï¸ ç¡çœ åŠ¹ç‡ãŒ85%æœªæº€ï¼ˆå¹³å‡83.9%ï¼‰

**æ¨å¥¨äº‹é …**:
1. å°±å¯å‰ã®ãƒªãƒ©ã‚¯ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³å¼·åŒ–
2. ç¡çœ ç’°å¢ƒã®æœ€é©åŒ–
3. å°±å¯æ™‚åˆ»ã®ä¸€è²«æ€§

---

## ğŸ”¬ èª¿æŸ»å®Œäº†: Intradayãƒ‡ãƒ¼ã‚¿ã®æœ‰ç”¨æ€§è©•ä¾¡

### æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ï¼ˆæ—¥æ¬¡ï¼‰

| ãƒ‡ãƒ¼ã‚¿ | ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ | Mind Reportæ´»ç”¨ |
|--------|---------|------|----------------|
| HRV | `data/fitbit/hrv.csv` | daily_rmssd, deep_rmssd | âœ… ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ä¹–é›¢ç‡ |
| å‘¼å¸æ•° | `data/fitbit/breathing_rate.csv` | å¤œé–“å¹³å‡ | âœ… 1æ—¥ã®å€¤ |
| SpO2 | `data/fitbit/spo2.csv` | æœ€å°ãƒ»å¹³å‡å€¤ | âœ… æ­£å¸¸ç¯„å›²ãƒã‚§ãƒƒã‚¯ |
| çš®è†šæ¸© | `data/fitbit/temperature_skin.csv` | ç›¸å¯¾å€¤ã®ã¿ | - |
| å¿ƒæ‹æ•° | `data/fitbit/heart_rate_intraday.csv` | âœ… 1åˆ†é–“éš” | âœ… å®Ÿè£…æ¸ˆã¿ |

### Intradayãƒ‡ãƒ¼ã‚¿ã®å„ªå…ˆé †ä½è©•ä¾¡

#### ğŸ¥‡ æœ€å„ªå…ˆ: SpO2 intraday
- **ç ”ç©¶çš„ä¾¡å€¤**: â­â­â­ éå¸¸ã«é«˜ã„
- **è¿½åŠ ä¾¡å€¤**: é…¸ç´ ä½ä¸‹ã‚¤ãƒ™ãƒ³ãƒˆã®é »åº¦ãƒ»æŒç¶šæ™‚é–“æ¤œå‡º
- **ç”¨é€”**: ç¡çœ æ™‚ç„¡å‘¼å¸ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°
- **çµè«–**: å®Ÿè£…ä¾¡å€¤ã‚ã‚Šï¼ˆæ—¥æ¬¡ãƒ‡ãƒ¼ã‚¿ã§ã¯ä¸ååˆ†ï¼‰

#### ğŸ¥ˆ æ¬¡ç‚¹: HRV intraday
- **ç ”ç©¶çš„ä¾¡å€¤**: â­â­â­ é«˜ã„
- **å–å¾—å¯èƒ½ãƒ‡ãƒ¼ã‚¿**: 5åˆ†é–“éš”ã€ç¡çœ ä¸­ã®ã¿
  - RMSSDï¼ˆå‰¯äº¤æ„Ÿç¥çµŒæ´»å‹•ï¼‰
  - HFï¼ˆé«˜å‘¨æ³¢: 0.15-0.4Hzã€å‰¯äº¤æ„Ÿç¥çµŒï¼‰
  - LFï¼ˆä½å‘¨æ³¢: 0.04-0.15Hzã€æ··åˆï¼‰
  - LF/HFæ¯”ï¼ˆè‡ªå¾‹ç¥çµŒãƒãƒ©ãƒ³ã‚¹ï¼‰
- **è¿½åŠ ä¾¡å€¤**: è‡ªå¾‹ç¥çµŒãƒãƒ©ãƒ³ã‚¹ã®å®šé‡è©•ä¾¡
- **åˆ¶ç´„**: ç¡çœ ä¸­ã®ã¿ï¼ˆé£Ÿäº‹ã€œå°±å¯ã®é–“ã¯æ¸¬å®šä¸å¯ï¼‰
- **çµè«–**: **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¨ã—ã¦å®Ÿè£…æ¤œè¨ä¸­** â† ä»Šã“ã“

#### ğŸ¥‰ ä½å„ªå…ˆ: å‘¼å¸æ•°ãƒ»ä½“æ¸© intraday
- **çµè«–**: æ—¥æ¬¡ãƒ‡ãƒ¼ã‚¿ã§ååˆ†ã€ç¾æ™‚ç‚¹ã§ã¯ä¸è¦

---

## ğŸ½ï¸ æ¬¡ã®ç›®æ¨™: é£Ÿäº‹æ™‚åˆ»ã¨ç¡çœ ã®é–¢ä¿‚åˆ†æ

### åˆ†æç›®çš„
å¤œé…ã„é£Ÿäº‹â†’ã™ãç¡çœ ãŒã€ç¡çœ ã®è³ªã«ã©ã†å½±éŸ¿ã™ã‚‹ã‹å®šé‡è©•ä¾¡

### ç”Ÿç†çš„ãƒ¡ã‚«ãƒ‹ã‚ºãƒ 
1. æ¶ˆåŒ–æ´»å‹• â†’ äº¤æ„Ÿç¥çµŒå„ªä½
2. é£Ÿäº‹èª˜ç™ºæ€§ç†±ç”£ç”Ÿ â†’ ä½“æ¸©ä¸Šæ˜‡
3. ä»£è¬æ´»å‹• â†’ å¿ƒæ‹æ•°ãƒ»å‘¼å¸æ•°ä¸Šæ˜‡
4. ç¡çœ æ§‹é€  â†’ æ·±ç¡çœ æ¸›å°‘

### Phase 1: å¿ƒæ‹æ•°intradayã§åˆ†æï¼ˆç¾åœ¨å¯èƒ½ï¼‰

**å®Ÿè£…æ¡ˆ**:
```python
# é£Ÿäº‹æ™‚åˆ»ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜éŒ²
meal_times = {
    '2026-01-17': '21:30',
    '2026-01-18': '19:00',
    # ...
}

# ç›¸é–¢åˆ†æ
é£Ÿäº‹â†’å°±å¯é–“éš” vs æœ€ä½HRåˆ°é”æ™‚é–“
é£Ÿäº‹â†’å°±å¯é–“éš” vs ãƒ‡ã‚£ãƒƒãƒ—ç‡
é£Ÿäº‹â†’å°±å¯é–“éš” vs ç¡çœ åŠ¹ç‡
```

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
- é£Ÿäº‹ç›´å¾Œã®ç¡çœ  â†’ æœ€ä½HRåˆ°é”æ™‚é–“ãŒé•·ã„
- é£Ÿäº‹ç›´å¾Œã®ç¡çœ  â†’ ãƒ‡ã‚£ãƒƒãƒ—ç‡ãŒä½ã„
- é£Ÿäº‹ã‹ã‚‰2-3æ™‚é–“å¾Œ â†’ æ­£å¸¸ãƒ‘ã‚¿ãƒ¼ãƒ³

### Phase 2: HRV intradayã§è©³ç´°è©•ä¾¡ï¼ˆå®Ÿè£…äºˆå®šï¼‰

**è¿½åŠ ã§åˆ†ã‹ã‚‹ã“ã¨**:
- å…¥çœ å¾Œã®LF/HFæ¯”ã®ä½ä¸‹é€Ÿåº¦
- å‰¯äº¤æ„Ÿç¥çµŒæ´»æ€§åŒ–ã®é…å»¶
- ç¡çœ ã‚¹ãƒ†ãƒ¼ã‚¸åˆ¥ã®è‡ªå¾‹ç¥çµŒçŠ¶æ…‹

**HRV intradayã®ä»•æ§˜**:
- **æ™‚é–“é–“éš”**: 5åˆ†ã”ã¨
- **æ¸¬å®šç¯„å›²**: ç¡çœ ä¸­ã®ã¿
- **å–å¾—æœŸé–“**: æœ€å¤§30æ—¥é–“
- **åˆ¶ç´„**: æœ€ä½3æ™‚é–“ã®ç¡çœ ãŒå¿…è¦

**APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
https://dev.fitbit.com/build/reference/web-api/intraday/get-hrv-intraday-by-interval

---

## ğŸš§ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—: HRV intradayå®Ÿè£…

### 1. ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ

**å‚è€ƒãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/fetch_intraday.py` - æ—¢å­˜ã®intradayå–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- `src/lib/fitbit_fetcher.py` - ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®šç¾©ï¼ˆENDPOINTSè¾æ›¸ï¼‰
- `src/lib/clients/fitbit_api.py` - APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

**å®Ÿè£…æ‰‹é †**:
1. `fitbit_api.py`ã«`get_hrv_intraday_by_date_range()`é–¢æ•°è¿½åŠ 
2. `fitbit_fetcher.py`ã®ENDPOINTSè¾æ›¸ã«`hrv_intraday`è¿½åŠ 
3. `fetch_intraday.py`ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«`--hrv`è¿½åŠ 

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®šç¾©æ¡ˆ**:
```python
'hrv_intraday': {
    'description': 'HRV Intradayï¼ˆ5åˆ†é–“éš”ï¼‰',
    'fetch_fn': 'get_hrv_intraday_by_date_range',
    'parse_fn': None,  # DataFrameã‚’ç›´æ¥è¿”ã™
    'date_column': 'datetime',
    'max_days': 30,
    'is_time_series_api': False,
    'is_intraday': True,
}
```

**å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«**: `data/fitbit/hrv_intraday.csv`

### 2. åˆ†æé–¢æ•°ã®å®Ÿè£…

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/lib/analytics/sleep/sleep_intraday_analysis.py`

**å®Ÿè£…ã™ã‚‹é–¢æ•°**:
```python
def calc_hrv_intraday_metrics(df_sleep, df_hrv_intraday):
    """
    HRV intradayã‹ã‚‰é«˜åº¦ãªæŒ‡æ¨™ã‚’è¨ˆç®—

    Returns:
        dict: {
            'lf_hf_ratio': LF/HFæ¯”ã®ãƒˆãƒ¬ãƒ³ãƒ‰
            'hf_activation_speed': HFä¸Šæ˜‡é€Ÿåº¦
            'avg_lf_hf_deep': æ·±ç¡çœ æ™‚ã®LF/HFæ¯”
            'avg_hf_deep': æ·±ç¡çœ æ™‚ã®HF
        }
    """
```

### 3. ãƒ¬ãƒãƒ¼ãƒˆçµ±åˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `scripts/generate_sleep_report_daily.py`

**è¿½åŠ å‡¦ç†**:
- HRV intradayãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
- LF/HFæ¯”ã®è¨ˆç®—
- é£Ÿäº‹æ™‚åˆ»ã¨ã®ç›¸é–¢åˆ†æ

---

## ğŸ“š ç ”ç©¶çš„èƒŒæ™¯

### å¿ƒæ‹æ•°ãƒ‡ã‚£ãƒƒãƒ—ç‡
- [Nocturnal Non-dipping Of Heart Rate Predicts Cardiovascular Events | PMC](https://pmc.ncbi.nlm.nih.gov/articles/PMC3806286/)
- éãƒ‡ã‚£ãƒƒãƒ‘ãƒ¼ã¯å¿ƒè¡€ç®¡ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ã‚¯ãŒ2.4å€

### HRV
- [Heart rate variability coefficient during sleep | PubMed](https://pubmed.ncbi.nlm.nih.gov/41309064/)
- ä½HRVã¯å…¨æ­»å› æ­»äº¡ãƒªã‚¹ã‚¯2.27å€ã€å¿ƒè¡€ç®¡ã‚¤ãƒ™ãƒ³ãƒˆ1.41å€

### å‘¼å¸æ•°
- [Respiratory Rate While Sleeping | Sleep Foundation](https://www.sleepfoundation.org/sleep-apnea/sleep-respiratory-rate)
- å¤œé–“å‘¼å¸æ•°>16å›/åˆ†ã¯é•·æœŸæ­»äº¡ç‡ã®ç‹¬ç«‹äºˆæ¸¬å› å­

### SpO2
- [Sleep apnea detection using SpO2 | Frontiers Digital Health](https://www.frontiersin.org/journals/digital-health/articles/10.3389/fdgth.2025.1510166/full)
- SpO2ã¯ç„¡å‘¼å¸æ¤œå‡ºã§æœ€ã‚‚å„ªã‚ŒãŸä¿¡å·

---

## ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

### æ—¢å­˜ãƒ‡ãƒ¼ã‚¿
- `data/fitbit/heart_rate_intraday.csv` - å¿ƒæ‹æ•°ï¼ˆ1åˆ†é–“éš”ï¼‰
- `data/fitbit/hrv.csv` - HRVæ—¥æ¬¡ï¼ˆdaily_rmssd, deep_rmssdï¼‰
- `data/fitbit/breathing_rate.csv` - å‘¼å¸æ•°æ—¥æ¬¡
- `data/fitbit/spo2.csv` - SpO2æ—¥æ¬¡
- `data/fitbit/sleep.csv` - ç¡çœ è¨˜éŒ²

### ä»Šå¾Œè¿½åŠ äºˆå®š
- `data/fitbit/hrv_intraday.csv` - HRVï¼ˆ5åˆ†é–“éš”ï¼‰
- `data/fitbit/spo2_intraday.csv` - SpO2ï¼ˆåˆ†å˜ä½ï¼‰

---

## ğŸ”§ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Python 3.12**
- **pandas**: ãƒ‡ãƒ¼ã‚¿å‡¦ç†
- **matplotlib**: å¯è¦–åŒ–
- **Jinja2**: ãƒ¬ãƒãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- **Fitbit Web API**: ãƒ‡ãƒ¼ã‚¿å–å¾—
- **fitbit**: Pythonå…¬å¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

---

## ğŸ“ ãƒ¡ãƒ¢

### ãƒ¬ãƒ¼ãƒˆåˆ¶é™
- Fitbit API: 150ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ™‚é–“
- Intradayã¯æ—¥ä»˜ã”ã¨ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆå¿…è¦
- 30æ—¥åˆ† = 30ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆHRV intradayï¼‰

### ãƒ‡ãƒ¼ã‚¿åˆ¶ç´„
- HRV intraday: ç¡çœ ä¸­ã®ã¿ã€æœ€ä½3æ™‚é–“å¿…è¦
- ä½“æ¸©: ç›¸å¯¾å€¤ã®ã¿ã§çµ¶å¯¾æ¸©åº¦ä¸æ˜
- SpO2 intraday: æœªç¢ºèªï¼ˆä»•æ§˜ç¢ºèªå¿…è¦ï¼‰

### å®Ÿè£…æ¸ˆã¿ãƒ¬ãƒãƒ¼ãƒˆ
- æ—¥æ¬¡ç¡çœ ãƒ¬ãƒãƒ¼ãƒˆ: `scripts/generate_sleep_report_daily.py`
- é€±æ¬¡éš”ãƒ¬ãƒãƒ¼ãƒˆ: `scripts/generate_sleep_report_interval.py`
- ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¬ãƒãƒ¼ãƒˆ: `scripts/generate_mind_report_daily.py`

---

## ğŸ“Œ é‡è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹

```
dailybuild/
â”œâ”€â”€ data/fitbit/
â”‚   â”œâ”€â”€ heart_rate_intraday.csv     # å¿ƒæ‹æ•°intradayï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰
â”‚   â”œâ”€â”€ hrv.csv                      # HRVæ—¥æ¬¡
â”‚   â””â”€â”€ [hrv_intraday.csv]          # HRV intradayï¼ˆæœªå®Ÿè£…ï¼‰
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ fetch_intraday.py           # Intradayãƒ‡ãƒ¼ã‚¿å–å¾—
â”‚   â””â”€â”€ generate_sleep_report_daily.py  # ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
â”œâ”€â”€ src/lib/
â”‚   â”œâ”€â”€ clients/fitbit_api.py       # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ fitbit_fetcher.py           # ãƒ‡ãƒ¼ã‚¿å–å¾—å…±é€šå‡¦ç†
â”‚   â”œâ”€â”€ analytics/sleep/
â”‚   â”‚   â”œâ”€â”€ sleep_intraday_analysis.py  # Intradayåˆ†æ
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â””â”€â”€ templates/
â”‚       â””â”€â”€ renderer.py
â”œâ”€â”€ templates/sleep/
â”‚   â””â”€â”€ sections/
â”‚       â””â”€â”€ sleep_heart_rate.md.j2  # å¿ƒæ‹æ•°ã‚»ã‚¯ã‚·ãƒ§ãƒ³
â””â”€â”€ issues/006_sleep_hr/
    â”œâ”€â”€ HANDOVER.md                  # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
    â”œâ”€â”€ ADVANCED_METRICS_REPORT.md   # è©³ç´°åˆ†æãƒ¬ãƒãƒ¼ãƒˆ
    â”œâ”€â”€ advanced_hr_metrics.png      # ã‚°ãƒ©ãƒ•
    â””â”€â”€ advanced_hr_metrics.csv      # ç”Ÿãƒ‡ãƒ¼ã‚¿
```

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ: HRV intradayå®Ÿè£…

- [ ] `fitbit_api.py`ã«APIé–¢æ•°è¿½åŠ 
- [ ] `fitbit_fetcher.py`ã«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®šç¾©è¿½åŠ 
- [ ] `fetch_intraday.py`ã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¿½åŠ 
- [ ] ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- [ ] `sleep_intraday_analysis.py`ã«åˆ†æé–¢æ•°è¿½åŠ 
- [ ] `generate_sleep_report_daily.py`ã«çµ±åˆ
- [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ›´æ–°
- [ ] é£Ÿäº‹æ™‚åˆ»ã¨ã®ç›¸é–¢åˆ†æå®Ÿè£…
- [ ] ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆãƒ†ã‚¹ãƒˆ

---

**æœ€çµ‚æ›´æ–°**: 2026-01-23 20:15
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: HRV intradayå®Ÿè£…æº–å‚™å®Œäº†ã€ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆé–‹å§‹ç›´å‰
