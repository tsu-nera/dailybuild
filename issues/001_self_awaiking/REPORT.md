# 自己覚醒仮説の検証分析

## 仮説

> 心に強く起床時刻を思うと、その時刻から逆算されてREM1, REM2, REM3の出現時刻が決まる

## データサマリー

- **分析期間**: 2025-11-25 〜 2025-12-18
- **総睡眠セッション数**: 24

> **注意**: この分析では「起床時刻」= 目が覚めた時刻を使用（sleep_levels.csvから計算）

## 起床時刻の分布

| 起床時刻 | 回数 |
|---------|------|
| 06:15 | 2 |
| 06:27 | 2 |
| 06:08 | 2 |
| 05:29 | 1 |
| 06:11 | 1 |
| 06:53 | 1 |
| 06:26 | 1 |
| 05:51 | 1 |
| 06:19 | 1 |
| 06:23 | 1 |

## 主要分析：起床時刻（目覚め）6:10-6:30 のREM睡眠パターン

**対象データ数**: 12 セッション

> 起床時刻 = 目が覚めた時刻（離床時刻 - ベッド内覚醒時間）

### 詳細データ

| 日付 | 就寝 | 起床(目覚め) | 離床 | REM1 | REM2 | REM3 | REM4 | REM5 |
|------|------|------------|------|------|------|------|------|------|
| 11-27 | 22:05 | 06:27 | 06:30 | 23:27 | 01:12 | 03:02 | 04:54 | - |
| 12-01 | 23:48 | 06:17 | 06:36 | 00:59 | 02:48 | 05:58 | - | - |
| 12-04 | 22:11 | 06:21 | 06:33 | 23:18 | 23:47 | 03:20 | 05:26 | - |
| 12-05 | 22:46 | 06:14 | 06:25 | 23:57 | 00:24 | 02:38 | 03:21 | - |
| 12-08 | 23:42 | 06:15 | 06:30 | 01:06 | 01:38 | 04:59 | - | - |
| 12-10 | 22:10 | 06:23 | 06:23 | 23:41 | 00:04 | 01:55 | 03:54 | - |
| 12-11 | 22:48 | 06:19 | 06:25 | 00:20 | - | 03:56 | 04:37 | - |
| 12-13 | 23:13 | 06:26 | 06:26 | 00:35 | 02:21 | 05:09 | - | - |
| 12-14 | 23:14 | 06:27 | 06:27 | 01:20 | 03:07 | 03:43 | - | - |
| 12-16 | 22:46 | 06:11 | 06:11 | 00:19 | 00:38 | 03:00 | 04:33 | - |
| 12-17 | 23:12 | 06:15 | 06:33 | 00:20 | 00:43 | 04:28 | - | - |
| 12-18 | 22:58 | 06:16 | 06:22 | 00:23 | 00:36 | 05:25 | - | - |

### REM1-3から目覚め時刻までの差分分析

> 各REMから目覚めるまでの時間（分）を分析。時系列で差分が減少すれば、REMが起床時刻に近づいている。

#### 各REMから目覚めまでの時間（分）

| 日付 | 起床 | REM1→起床 | REM2→起床 | REM3→起床 | REM4→起床 |
|------|------|----------|----------|----------|----------|
| 11-27 | 06:27 | 420分 | 315分 | 205分 | 93分 |
| 12-01 | 06:17 | 318分 | 209分 | 19分 | - |
| 12-04 | 06:21 | 423分 | 394分 | 181分 | 55分 |
| 12-05 | 06:14 | 377分 | 350分 | 216分 | 173分 |
| 12-08 | 06:15 | 309分 | 277分 | 76分 | - |
| 12-10 | 06:23 | 402分 | 379分 | 268分 | 149分 |
| 12-11 | 06:19 | 359分 | - | 143分 | 102分 |
| 12-13 | 06:26 | 351分 | 245分 | 77分 | - |
| 12-14 | 06:27 | 307分 | 200分 | 164分 | - |
| 12-16 | 06:11 | 352分 | 333分 | 191分 | 98分 |
| 12-17 | 06:15 | 355分 | 332分 | 107分 | - |
| 12-18 | 06:16 | 353分 | 340分 | 51分 | - |

#### 各REMの時系列トレンド

| REM   |   データ数 | 平均差分   |   相関係数 | トレンド        |
|:------|-----------:|:-----------|-----------:|:----------------|
| REM1  |         12 | 360分      |     -0.374 | ✅ 起床に近づく |
| REM2  |         11 | 307分      |      0.047 | ➖ 変化なし     |
| REM3  |         12 | 141分      |     -0.202 | ➖ 変化なし     |
| REM4  |          6 | 112分      |      0.179 | ➖ 変化なし     |

> 相関係数: 負の値 = 差分減少（起床時刻に近づく）、正の値 = 差分増加（起床時刻から遠ざかる）

### REM3の詳細分析

| 日付 | REM3時刻 | 起床(目覚め) | 差分(分) |
|------|----------|------------|---------|
| 11-27 | 03:02 | 06:27 | 205 |
| 12-01 | 05:58 | 06:17 | 19 |
| 12-04 | 03:20 | 06:21 | 181 |
| 12-05 | 02:38 | 06:14 | 216 |
| 12-08 | 04:59 | 06:15 | 76 |
| 12-10 | 01:55 | 06:23 | 268 |
| 12-11 | 03:56 | 06:19 | 143 |
| 12-13 | 05:09 | 06:26 | 77 |
| 12-14 | 03:43 | 06:27 | 164 |
| 12-16 | 03:00 | 06:11 | 191 |
| 12-17 | 04:28 | 06:15 | 107 |
| 12-18 | 05:25 | 06:16 | 51 |

**時系列相関係数**: 0.186

➖ 明確なトレンドなし

### 直近5日のトレンド（相関係数: 0.203）

➖ 直近5日では明確なトレンドなし

### REM4出現時刻のトレンド分析

| 日付 | REM4時刻 | 起床(目覚め) | 差分(分) |
|------|----------|------------|---------|
| 11-27 | 04:54 | 06:27 | 93 |
| 12-04 | 05:26 | 06:21 | 55 |
| 12-05 | 03:21 | 06:14 | 173 |
| 12-10 | 03:54 | 06:23 | 149 |
| 12-11 | 04:37 | 06:19 | 102 |
| 12-16 | 04:33 | 06:11 | 98 |

**時系列相関係数**: -0.265

➖ 明確なトレンドなし

## 考察

### 自己覚醒メカニズムとの整合性

科学的に知られている自己覚醒のメカニズム:
1. 目標起床時刻の1-2時間前からコルチゾール分泌が増加
2. 目標時刻に向けて浅い睡眠（REM）の出現頻度が増える
3. 脳の時間感覚が起床準備を開始

### データからの示唆

⚠️ **一貫した傾向は確認できず**（相関係数: 0.186）

データからは明確なトレンドが見られませんでした。

## 結論

### ⚠️ データからは明確な結論を出せず

### 今後の検証方針

1. **意識的実験**: 起床時刻を強く意識する期間 vs 意識しない期間を比較
2. **主観記録**: 毎晩「何時に起きようと思ったか」を記録
3. **長期観察**: 30日以上のデータで統計的検証
4. **変数統制**: 就寝時刻、睡眠時間、ストレスレベルを記録

---

## 分析方法について

**起床時刻の定義**
- この分析では「起床時刻」= 目が覚めた時刻（wakeup time）を使用
- 計算方法: `calc_sleep_timing()` を使用してsleep_levels.csvから起床後時間を計算
  - 最後の睡眠レベルが 'wake' の場合、その継続時間を起床後時間とする
  - 起床時刻 = 離床時刻（endTime） - 起床後時間
- この方法は週次睡眠レポートと同一のロジックを使用
- 自己覚醒の分析には、離床時刻ではなく目覚めた時刻が重要

---

*分析日時: 2025-12-18 17:25:42*

*使用ライブラリ: src/lib/analytics/sleep/sleep_cycle.py*